## < 스트림(Stream) : 데이터의 연속적인 흐름 >
- 다양한 데이터 소스를 표준화된 방법으로 다루기 위한 것 (데이터 소스 : 컬렉션(List, Set, Map), 배열)
- 위의 다양한 데이터 소스들로부터 Stream을 만들어서 쭉 똑같은 방식으로 작업을 처리할 수 있음
- 작업종료에는 두가지 순서가 있다
  1) 중간연산 : n번 가능 -> 원하는 결과를 얻기위해 여러번 연산하고
  2) 최종연산 : 1번 -> 최종적으로 마지막 1번 연산해서 결과를 얻음
- Stream 작업순서
  1) 스트림 만들기
  2) 중간연산(0~n번) : 연산결과가 스트림인 연산
  3) 최종연산(1번) : 연산결과가 스트림이 아님, 스트림의 모든 요소를 소모 -> 결과
```
ex)
        중복제거    5개자르기   정렬       출력
stream.distinct().limit(5).sorted().forEach(System.out.::println)
      [         중간 연산           ] [         최종 연산          ]
                  3번                          1번 
```
![img.png](img.png)

### 1. 스트림의 특징
- 스트림은 데이터 소스로부터 데이터를 읽기만 할 뿐 변경하지 않는다. (데이터의 원본은 변경하지 않는다)
- 스트림은 Iterator처럼 일회용이다(필요하면 다시 스트림을 생성해야 함)
- 최종 연산 전까지 중간연산이 수행되지 않는다. - 지연된 연산
- 스트림은 작업을 내부 반복으로 처리한다.
- 스트림의 작업을 병렬로 처리 - 병렬스트림 (멀티쓰레드)
- 기본형 스트림 - IntStream, LongStream, DoubleStream
- 오토박신 & 언박싱의 비효율이 제거됨(Stream<Integer>대신 IntStream사용)
- 숫자와 관련된 유용한 메서드를 Stream<T>보다 더 많이 제공 (T안에는 기본형 못들어가고 참조형만 들어갈 수 있음)

### 2. 스트림 만들기 - 컬렉션
1) 스트림 생성
2) 중간연산(0~n)
3) 최종연산(0~1)
- Collection인터페이스의 stream()으로 컬렉션을 스트림으로 변환
    - Stream<E> stream()  // Collection인터페이스의 메서드, 따라서 Collection인터페이스를 구현한 자손클래스인 List와 Set이 이 Stream메서드를 가지고 있다.

### 3. 스트림 만들기 - 배열
- 객체 배열로부터 스트림 생성하기
![img_2.png](img_2.png)
- 기본형 배열로부터 스트림 생성하기
![img_3.png](img_3.png)

### 4. 스트림 만들기 - 임의의 수
- 난수를 요소로 갖는 스트림 생성하기 
- 난수를 요소로 갖는 스트림은 무한스트림 따라서 limit로 자르거나 난수의 범위를 지정해주는 스트림을 생성하는 메서드를 사용해야한다.
- streamSize를 이용해 유한스트림으로도 변경 가능

### 5. 특정 범위의 정수를요소로 갖는 스트림 생성하기(IntStream, LongStream)
![img_4.png](img_4.png)

### 6. 스트림 만들기 - 람다식 iterate(), generate()
- 람다식을 소스로 하는 스트림 생성하기
![img_5.png](img_5.png)

### 7. 스트림 만들기 - 파일과 빈 스트림
- 파일을 소스로 하는 스트림 생성하기
![img_6.png](img_6.png)
- 비어있는 스트림 생성하기
```
Stream emptyStream = Stream.empty();    //  empty()는 빈 스트림을 생성해서 반환한다.
long count = emptyStream.count();       //  count의 값은 0
```

### 8. 스트림의 연산
- 스트림이 제공하는 기능 - 중간 연산과 최종 연산
    - 중간 연산 : 연산결과가 스트림인 연산, 반복적으로 적용가능
    - 최종 연선 : 연산결과가 스트림이 아닌 연산, 단 한번만 적용가능(스트림의 요소를 소모)
- 중간 연산의 핵심 : 스트림의 요소를 변환한다
  1) map()
  2) flatMap()

- 최종 연산의 핵심 : 스트림의 요소를 하나씩 줄여가면서(리듀싱) 계산한다, 스트림의 요소를 수집한다, 스트림의 요소를 수집
  1) reduce()
  2) collect()

### 9. 스트림의 중간 연산
- 스트림 자르기 - skip(), limit()
- 스트림의 요소 걸러내기 - filter(), distinct()
- 스트림 정렬하기 - sorted()
- Comparator의 comparing()으로 정렬 기준을 제공
- 추가 정렬 기준을 제공할 떄는 thenComparing()을 사용
- map(), ppeek(), flatmap()
  1) map() -> 변환
  2) peek() -> forEach()와 비슷 근데 peek는 중간연산 forEach는 최종연산
  3) flatmap() -> 변환 map()하고 비슷한대 차원을 줄여줌 스트림의 스트림을 -> 스트림으로 변환

- 스트림 요소 변환하기 - map()
- 스트림의 요소를 소비하지 않고 엿보기 - peek() - 디버깅용
- 스트림의 스트림을 스트림으로 변환 - flatMap() : ex) 문자열의 여러가지 배열을 하나의 문자열 배열로 바꾸는것